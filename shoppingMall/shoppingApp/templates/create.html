<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>

 
    <!--autoload=false 파라미터를 이용하여 자동으로 로딩되는 것을 막습니다.-->
<script src="http://dmaps.daum.net/map_js_init/postcode.v2.js?autoload=false"></script>
<!---->
<script>
  /** 우편번호 찾기 */
  function execDaumPostcode() {
    daum.postcode.load(function(){
        new daum.Postcode({
            oncomplete: function(data) {
              // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분입니다.
             // $("#postcode").val(data.zonecode);
              //$("#address").val(data.roadAddress);
              document.getElementById('postcode').value = data.zonecode; //5자리 새우편번호 사용
              document.getElementById('address').value = data.roadAddress;
              
             
            }
        }).open();
    });
  }
</script>
           
    <title>User mainpage</title>
</head>
<body>
    <header><a href="{% url 'userMain' %}">
        <img src="{%static 'images/mainlogo.png' %}" height="100" alt="iconIMG"></a>
    </header>
    <navigator>
            <ul id="category">
              <li><a href="{%url 'products:necklace'%}">necklace</a></li>
              <li><a href="{%url 'products:rings'%}">rings</a></li>
             
              <li><a href="{%url 'products:hats'%}">hats</a></li>
              <li><a href="{%url 'products:glasses'%}">glasses</a></li>
            </ul>
    </navigator>
    <section>
   
<div>
<h3>나의 배송지 목록</h3><br>
<table class="table">
    <thead>
      <tr>
        <th scope="col">title</th>
        <th scope="col">우편번호</th>
        <th scope="col">도로명주소</th>
        <th scope="col">상세주소</th>
        <th scope="col"></th>
        <th scope="col"></th>

      </tr>
    </thead>
 
    {% for address in shippings %}
    <tbody>
      <tr>
        <th scope="row">{{address.title}}</th>
        <td>{{address.post_num}}</td>
        <td>{{address.road_address}}</td>
        <td>{{address.detail_address}}</td>
        
        <form action="{% url 'delete' address.pk%}" method="POST">
          {%csrf_token%}
        <td><input class="btn btn-dark" type="submit" value="삭제하기" ></td>
        </form>
       
        <td><input class="btn btn-dark" type="submit" value="수정하기" ></td>
        
      </tr>
    </tbody>
    {%  endfor %}

</table>
</div>


<br>

<h5>새로운 배송지 추가하기</h5><br>


<div class="container">
	<form action="{% url 'postaddress' %}" method="POST">
        {%csrf_token%}
  <div>
	<h6>배송지 별칭 </h6>
	<input type="text" name="title" id='title'>
  </div>
   
    <div class="form-group m-form__group row">
   
      <div class="col-md-2">
        <input
          type="text"
          class="form-control"
          name="post_num"
          id="postcode"
          placeholder="우편번호"
        
        />
      </div>
      <div class="col-md-2 postcode-btn">
        <button type="button" class="btn btn-info " onclick="execDaumPostcode()">
          우편번호 찾기
        </button>
      </div>
      
      <div class="col-md-4 ">
        <input
          type="text"
          class="form-control"
          name="road_address"
          id="address"
          placeholder="도로명 주소"
       
        />
      </div>
      
      <div class="col-md-4 ">
        <input
          type="text"
          class="form-control"
          name="detail_address"
          placeholder="상세 주소"
          required
          
        />
      </div>
    </div>
	  <input class="btn btn-dark" type="submit" value="save">
  </form>
</div>




</section>
</body>
</html>

